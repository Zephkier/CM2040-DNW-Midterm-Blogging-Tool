<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" type="text/css" href="/main.css" />
        <title><%= pageName + tabNameSeparator + appName %></title>
    </head>
    <body>
        <header><%-include("../header-nav.ejs") %></header>

        <div class="title-container">
            <h1><%= settings.blog_title %></h1>
            <p>by <%= settings.author_name %></p>
        </div>

        <div class="settings-button">
            <a href="/author/settings"><button>Settings</button></a>
        </div>

        <a href="/author/article-new"><button>New draft article</button></a>
        <h2>Draft Articles</h2>
        <table>
            <!-- Table header -->
            <tr>
                <%tableColumnTitles.forEach(title => { %>
                <th><%= title %></th>
                <%}); %>
            </tr>
            <!-- Table data -->
            <%draftArticles.forEach(article => { %>
            <tr>
                <td><%= article.title %></td>
                <td><%= article.subtitle %></td>
                <td><%= article.datetime_created %></td>
                <td><%= article.datetime_last_modified %></td>
                <td>
                    <a href="/author/article-edit/<%= article.id %>"><button>Edit</button></a>
                    <a href=""><button>Publish</button></a>
                    <a href=""><button>Delete</button></a>
                </td>
            </tr>
            <%}); %>
        </table>

        <h2>Published Articles</h2>
        <table>
            <!-- Table header -->
            <tr>
                <%tableColumnTitles.forEach(title => { %>
                <th><%= title %></th>
                <%}); %>
            </tr>
            <!-- Table data -->
            <%publishedArticles.forEach(article => { %>
            <tr>
                <td><%= article.title %></td>
                <td><%= article.subtitle %></td>
                <td><%= article.datetime_created %></td>
                <td><%= article.datetime_last_modified %></td>
                <td>
                    <a href="/author/article-edit/<%= article.id %>"><button>Edit</button></a>
                    <a href=""><button>Publish</button></a>
                    <a href=""><button>Delete</button></a>
                </td>
            </tr>
            <%}); %>
        </table>

        <footer><%-include("../header-nav.ejs") %></footer>
    </body>
</html>
